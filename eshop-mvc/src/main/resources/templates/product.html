<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Eshop - product</title>
    <style th:replace="fragments/main.html :: menustyle"></style>
</head>
<body>
    <div th:replace="fragments/main.html :: menu"></div>

    <h3 th:if="${created}">Productas sekmingai sukurtas!</h3>

    <h1 th:text="${product.title}"></h1>
    <p th:text="${product.id}"></p>
    <p th:text="${product.description}"></p>
    <p th:text="${product.price}"></p>
    <p>
        <a sec:authorize="hasRole('ADMIN')"
           th:href="@{/private/products/product/{id}(id=${product.id})}">Redaguoti</a>
    </p>
    <p>
        <a sec:authorize="hasRole('ADMIN')"
           th:href="@{/private/products/product/{id}/delete(id=${product.id})}">Ištrinti</a>
    </p>
    <p>
        <a th:href="@{/private/orders/checkout(productId = ${product.id})}"
           sec:authorize="not hasRole('ADMIN')">Pirkti</a>
    </p>
    <p>
        <a th:href="@{/public/cart/add/{productId}(productId = ${product.id})}">Į krepšelį</a>
    </p>

    <div th:replace="fragments/main.html :: footer"></div>
</body>
</html>
